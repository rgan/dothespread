<html>
<head>
    <title>Do The Spread | Global Flash Mob</title>
    <script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.8.16.custom.min.js"></script>
    <script type="text/javascript" src="js/carousel.js"></script>
    <script type="text/javascript" src="js/jquery.tmpl.js"></script>
    <script type="text/javascript" src="js/knockout-1.2.1.js"></script>
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="js/registrations.js"></script>
    <script src="http://widgets.twimg.com/j/2/widget.js"></script>
    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" media="all" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/carousel-skin-tango.css"/>
    <link rel="stylesheet" type="text/css" media="all" href="css/carousel.css"/>
    <link rel="stylesheet" type="text/css" media="all" href="css/custom-theme/jquery-ui-1.8.16.custom.css"/>
</head>
<body>
<div>
    <div id="google_translate_element"></div>
    <script>
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en'
            }, 'google_translate_element');
        }
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <p><span class="dothespreadfont">Do The Spread</span><br><span class="smallfont">Global Flash Mob</span></p>

    <div style="clear: both;"></div>
</div>
<div id=main>
    <div id=countdownclock>
        <div data-bind="template: { name:'countdownClockTemplate'}"></div>
        <div>
          <script>
				        new TWTR.Widget({
				            version: 2,
				            type: 'search',
				            search: 'artificial intelligence',
				            interval: 30000,
				            title: '',
				            subject: 'Do the spread',
				            width: 200,
				            height: 200,
				            theme: {
				                shell: {
				                    background: '#8ec1da',
				                    color: '#ffffff'
				                },
				                tweets: {
				                    background: '#ffffff',
				                    color: '#444444',
				                    links: '#1985b5'
				                }
				            },
				            features: {
				                scrollbar: false,
				                loop: true,
				                live: true,
				                behavior: 'default'
				            }
				        }).render().start();
				        </script>
        </div>
        <p><iframe src="http://www.facebook.com/plugins/like.php?href=http://dothespread.com&amp;layout=button_count&amp;show_faces=true&amp;width=90&amp;action=like&amp;font=arial&amp;colorscheme=light&amp;height=25"
                            scrolling="no" frameborder="0"
                            style="border:none;margin-left:auto;margin-right:auto; overflow:hidden; width:90px; height:25px;"
                            allowTransparency="true"></iframe></p>
                    <p><a href="http://twitter.com/share?url=http://dothespread.com&via=bym_ny&count=horizontal"
                       class="twitter-share-button">Tweet</a></p>
                    <p><g:plusone size="medium" href="http://dothespread.com"></g:plusone></p>
        <img src="http://www.buildingyoungminds.org/wp-content/themes/smallfolio/images/logo.jpg" class="logo" width="150" alt="">
    </div>
    <div id="mainsection">
        <table id="mainsectiontable">
            <tr><td>
                <div id="tabs">
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Video Gallery</a></li>
                        <li><a href="#">Endorsements</a></li>
                    </ul>
                </div>
            </td></tr>
            <tr>
                <td>
                    <iframe id="youtube" title="YouTube video player" type="text/html"
                            width="500" height="400" src="http://www.youtube.com/embed/z8TaJjt-NkU?autoplay=1"
                            frameborder="0" allowFullScreen></iframe>
                </td>
                <td>The Spread is a dance move-ment that will unite the world on world AIDS day 2011. The students of
                    Building
                    Young
                    Minds created this dance move-ment to spread awareness for victory over the virus. View the link
                    below
                    to
                    watch
                    the Building Young Minds submission to United Nations Millennium Development Goals Youth Film
                    Festival.
                </td>
            </tr>
            <tr>
                <td colspan=2>
                    <div id="map" style="margin:0 auto;width:700px;height:400px">
                </td>
            </tr>
        </table>
    </div>

    <div style="clear: both;"></div>
</div>


<script id="countdownClockTemplate" type="text/html">
    <div class="thedate">Dec 1 2011</div>
    <div class="thetime">12:01 PM</div>
    <div class="daysLeft">${viewModel.getDaysLeft()} days</div>
</script>

<script >
jQuery(document).ready(function() {
    initialize();
});
var newyorkcity = new google.maps.LatLng(40.71435280, -74.002720);

var markers = [];
var iterator = 0;

var map;
var youtubeIFrame;

function initialize() {
    $(function() {
		$( "#tabs" ).tabs();
	});
    var mapOptions = {
        zoom: 1,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        center: new google.maps.LatLng(0, 0)
    };

    map = new google.maps.Map(document.getElementById("map"),
            mapOptions);

    youtubeIFrame = document.getElementById("youtube");
    drop();
}

function clearMarkers() {
    for (var i = 0; i < markers.length; i++) {
        markers[i].setMap(null);
    }
    markers = [];
}

function drop() {
    clearMarkers();
    iterator = 0;
    for (var i = 0; i < registrations.length; i++) {
        setTimeout(function() {
            addMarker();
        }, i * 200);
    }
    //setTimeout("drop()", 3000);

}

function addMarker() {
    markers.push(new google.maps.Marker({
        position: registrations[iterator],
        map: map,
        draggable: false,
        animation: google.maps.Animation.DROP
    }));
    iterator++;
}

(function() {
    var po = document.createElement('script');
    po.type = 'text/javascript';
    po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(po, s);
})();

var viewModel = {
    getDaysLeft: function() {
        var aidsDay = new Date(2011, 11, 1);
        return Math.ceil((aidsDay.getTime() - (new Date()).getTime()) / (24 * 3600 * 1000));
    }
}
ko.applyBindings(viewModel);

</script>

</body>
</html>
